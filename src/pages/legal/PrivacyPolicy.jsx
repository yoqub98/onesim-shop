// src/pages/legal/PrivacyPolicy.jsx
import React from 'react';
import { Box, Heading, Text } from '@chakra-ui/react';
import LegalLayout from '../../components/legal/LegalLayout';

const PrivacyPolicy = () => {
  const tableOfContents = [
    { id: 'intro', title: '1. Введение' },
    { id: 'data-collect', title: '2. Какие данные мы собираем' },
    { id: 'data-use', title: '3. Как мы используем данные' },
    { id: 'data-storage', title: '4. Хранение данных' },
    { id: 'data-sharing', title: '5. Передача данных третьим лицам' },
    { id: 'user-rights', title: '6. Права субъекта данных' },
    { id: 'cookies', title: '7. Использование cookies' },
    { id: 'security', title: '8. Безопасность данных' },
    { id: 'changes', title: '9. Изменения в политике' },
    { id: 'contacts', title: '10. Контактная информация' },
  ];

  return (
    <LegalLayout
      title="Политика конфиденциальности"
      lastUpdated="9 декабря 2025 г."
      tableOfContents={tableOfContents}
    >
      {/* Введение */}
      <Box id="intro">
        <Heading as="h2">1. Введение</Heading>
        <Text>
          Настоящая Политика конфиденциальности описывает, как <strong>ONETECH PRO LLC</strong>{' '}
          (далее — «Компания», «мы») собирает, использует, хранит и защищает персональные данные
          пользователей (далее — «Пользователь», «вы») нашей онлайн-платформы.
        </Text>
        <Text>
          Используя наш Сайт и совершая покупки, вы соглашаетесь с условиями настоящей Политики
          конфиденциальности. Если вы не согласны с данными условиями, пожалуйста, не используйте наш Сайт.
        </Text>
        <Text>
          Мы соблюдаем требования Закона Республики Узбекистан «О персональных данных» и принимаем
          все необходимые меры для защиты ваших персональных данных.
        </Text>
      </Box>

      {/* 2. Какие данные мы собираем */}
      <Box id="data-collect">
        <Heading as="h2">2. Какие данные мы собираем</Heading>

        <Heading as="h3">2.1. Данные, предоставляемые при регистрации (Supabase Auth):</Heading>
        <Text>В настоящее время мы используем систему аутентификации Supabase и собираем:</Text>
        <ul>
          <li><strong>Email (электронная почта)</strong> — для создания учетной записи и связи с вами</li>
          <li><strong>Пароль</strong> — хранится в зашифрованном виде (хэш)</li>
          <li><strong>Имя (First Name)</strong> — для персонализации сервиса</li>
          <li><strong>Фамилия (Last Name)</strong> — для идентификации пользователя</li>
          <li><strong>Номер телефона</strong> — для связи и подтверждения заказов (формат: +998XXXXXXXXX)</li>
        </ul>

        <Box className="warning" mt={4}>
          <Text fontWeight="600" color="orange.800">
            <strong>ВАЖНО:</strong> В будущем мы планируем перейти на использование государственного
            сервиса <strong>OneID</strong> (единая система идентификации Республики Узбекистан).
            После внедрения OneID некоторые данные будут получаться через этот сервис.
          </Text>
        </Box>

        <Heading as="h3">2.2. Данные о заказах:</Heading>
        <ul>
          <li>История покупок (дата, сумма, тарифный план)</li>
          <li>Статус заказа (оплачен, доставлен, активирован)</li>
          <li>Информация о приобретенных eSIM (QR-коды, даты активации)</li>
        </ul>

        <Heading as="h3">2.3. Технические данные:</Heading>
        <ul>
          <li>IP-адрес</li>
          <li>Тип устройства и браузер</li>
          <li>Информация о посещениях сайта (дата и время)</li>
          <li>Cookies (см. раздел 7)</li>
        </ul>

        <Heading as="h3">2.4. Данные, которые мы НЕ собираем:</Heading>
        <ul>
          <li>Паспортные данные (серия, номер паспорта)</li>
          <li>ПИНФЛ (персональный идентификационный номер физического лица)</li>
          <li>Детальная биометрическая информация</li>
          <li>Финансовая информация (данные банковских карт обрабатываются платежными системами)</li>
        </ul>
        <Text fontSize="sm" color="gray.600" mt={2}>
          Примечание: При использовании OneID некоторые данные (имя, фамилия, телефон) будут получены
          от государственного сервиса, но детальные паспортные данные к нам не передаются.
        </Text>
      </Box>

      {/* 3. Как мы используем данные */}
      <Box id="data-use">
        <Heading as="h2">3. Как мы используем ваши данные</Heading>
        <Text>Мы используем собранные данные для следующих целей:</Text>

        <Heading as="h3">3.1. Выполнение заказов:</Heading>
        <ul>
          <li>Обработка и подтверждение заказов</li>
          <li>Отправка QR-кодов на указанный email</li>
          <li>Ведение истории покупок в личном кабинете</li>
        </ul>

        <Heading as="h3">3.2. Коммуникация с клиентами:</Heading>
        <ul>
          <li>Уведомления о статусе заказа</li>
          <li>Ответы на запросы в службу поддержки</li>
          <li>Информирование об изменениях в условиях обслуживания</li>
          <li>Маркетинговые рассылки (только с вашего согласия)</li>
        </ul>

        <Heading as="h3">3.3. Соблюдение законодательства:</Heading>
        <ul>
          <li>Ведение бухгалтерского и налогового учета</li>
          <li>Выполнение требований государственных органов</li>
          <li>Предотвращение мошенничества</li>
        </ul>

        <Heading as="h3">3.4. Улучшение сервиса:</Heading>
        <ul>
          <li>Анализ поведения пользователей (анонимная аналитика)</li>
          <li>Улучшение функциональности сайта</li>
          <li>Разработка новых услуг</li>
        </ul>
      </Box>

      {/* 4. Хранение данных */}
      <Box id="data-storage">
        <Heading as="h2">4. Хранение данных</Heading>
        <Text>
          <strong>4.1. Где хранятся данные:</strong> Персональные данные хранятся в облачной базе данных{' '}
          <strong>Supabase</strong> (открытая платформа с шифрованием данных). Supabase использует
          защищенные серверы с современными методами шифрования.
        </Text>
        <Text>
          <strong>4.2. Срок хранения:</strong> Мы храним ваши персональные данные в течение{' '}
          <strong>3 лет</strong> с момента последнего взаимодействия с нашим сервисом. Этот срок
          необходим для выполнения требований бухгалтерского и налогового законодательства Республики
          Узбекистан.
        </Text>
        <Text>
          <strong>4.3. Удаление данных:</strong> По истечении срока хранения или по вашему запросу
          (см. раздел 6) данные безвозвратно удаляются из наших систем.
        </Text>
        <Text>
          <strong>4.4. Резервное копирование:</strong> Для обеспечения безопасности данных мы создаем
          резервные копии, которые хранятся в зашифрованном виде.
        </Text>
      </Box>

      {/* 5. Передача данных третьим лицам */}
      <Box id="data-sharing">
        <Heading as="h2">5. Передача данных третьим лицам</Heading>
        <Text>
          Мы <strong>НЕ продаем</strong> ваши персональные данные третьим лицам. Однако в некоторых
          случаях мы передаем данные для выполнения наших обязательств:
        </Text>

        <Heading as="h3">5.1. Провайдеры eSIM:</Heading>
        <Text>
          Мы передаем ваш <strong>email</strong> провайдеру eSIM (иностранному оператору) для доставки
          QR-кода активации. Эти данные используются исключительно для выполнения заказа.
        </Text>

        <Heading as="h3">5.2. Платежные системы:</Heading>
        <Text>
          При оплате заказа ваши платежные данные обрабатываются платежными системами:
        </Text>
        <ul>
          <li><strong>Click</strong> — см. политику конфиденциальности на click.uz</li>
          <li><strong>Payme</strong> — см. политику конфиденциальности на payme.uz</li>
          <li><strong>Uzum</strong> — см. политику конфиденциальности на uzum.uz</li>
        </ul>
        <Text fontSize="sm" color="gray.600">
          Примечание: Мы не имеем доступа к данным ваших банковских карт. Все платежи обрабатываются
          на стороне платежных систем с использованием защищенных протоколов.
        </Text>

        <Heading as="h3">5.3. Государственные органы:</Heading>
        <Text>
          Мы обязаны предоставлять данные государственным органам Республики Узбекистан по официальному
          запросу в соответствии с действующим законодательством (например, по запросу налоговых органов,
          правоохранительных органов).
        </Text>

        <Heading as="h3">5.4. Сервисы аналитики:</Heading>
        <Text>
          Мы можем использовать сервисы веб-аналитики (например, Google Analytics) для анализа посещаемости
          сайта. Эти сервисы собирают анонимные данные о пользователях.
        </Text>
      </Box>

      {/* 6. Права субъекта данных */}
      <Box id="user-rights">
        <Heading as="h2">6. Права субъекта персональных данных</Heading>
        <Text>
          В соответствии с Законом Республики Узбекистан «О персональных данных», вы имеете следующие права:
        </Text>

        <Heading as="h3">6.1. Право на доступ:</Heading>
        <Text>
          Вы можете запросить информацию о том, какие ваши данные мы храним. Для этого обратитесь на email:
          [будет добавлен].
        </Text>

        <Heading as="h3">6.2. Право на исправление:</Heading>
        <Text>
          Если ваши данные устарели или неточны, вы можете запросить их изменение через личный кабинет
          или обратившись в службу поддержки.
        </Text>

        <Heading as="h3">6.3. Право на удаление («Право на забвение»):</Heading>
        <Text>
          Вы можете запросить удаление ваших персональных данных, если:
        </Text>
        <ul>
          <li>Данные больше не нужны для целей, для которых они были собраны</li>
          <li>Вы отзываете согласие на обработку</li>
          <li>Обработка данных осуществляется незаконно</li>
        </ul>
        <Text fontSize="sm" color="gray.600" mt={2}>
          Примечание: Мы можем отказать в удалении, если обработка данных необходима для выполнения
          юридических обязательств (например, хранение данных для налогового учета в течение 3 лет).
        </Text>

        <Heading as="h3">6.4. Право на ограничение обработки:</Heading>
        <Text>
          Вы можете запросить приостановку обработки ваших данных в определенных случаях (например,
          если вы оспариваете точность данных).
        </Text>

        <Heading as="h3">6.5. Право на возражение:</Heading>
        <Text>
          Вы можете отказаться от маркетинговых рассылок в любое время, нажав на ссылку «Отписаться»
          в письме или обратившись в службу поддержки.
        </Text>

        <Text mt={4}>
          <strong>Как реализовать свои права:</strong> Направьте письменный запрос на email:
          [будет добавлен]. Мы ответим на ваш запрос в течение <strong>15 рабочих дней</strong>.
        </Text>
      </Box>

      {/* 7. Cookies */}
      <Box id="cookies">
        <Heading as="h2">7. Использование cookies и аналогичных технологий</Heading>
        <Text>
          <strong>7.1. Что такое cookies:</strong> Cookies — это небольшие текстовые файлы, которые
          сохраняются на вашем устройстве при посещении сайта. Они помогают улучшить ваш опыт
          использования сайта.
        </Text>

        <Heading as="h3">7.2. Какие cookies мы используем:</Heading>
        <ul>
          <li>
            <strong>Технические cookies</strong> — необходимы для работы сайта (авторизация, корзина покупок)
          </li>
          <li>
            <strong>Аналитические cookies</strong> — помогают понять, как пользователи взаимодействуют с сайтом
          </li>
          <li>
            <strong>Функциональные cookies</strong> — сохраняют ваши настройки (язык, валюта)
          </li>
        </ul>

        <Text>
          <strong>7.3. Управление cookies:</strong> Вы можете отключить cookies в настройках вашего
          браузера, но это может повлиять на функциональность сайта.
        </Text>
      </Box>

      {/* 8. Безопасность */}
      <Box id="security">
        <Heading as="h2">8. Безопасность данных</Heading>
        <Text>
          Мы принимаем все необходимые технические и организационные меры для защиты ваших данных от
          несанкционированного доступа, изменения, раскрытия или уничтожения:
        </Text>
        <ul>
          <li><strong>Шифрование данных</strong> — пароли хранятся в зашифрованном виде (хэш)</li>
          <li><strong>HTTPS протокол</strong> — безопасное соединение при передаче данных</li>
          <li><strong>Ограниченный доступ</strong> — только авторизованный персонал имеет доступ к данным</li>
          <li><strong>Регулярные обновления</strong> — обновление систем безопасности</li>
          <li><strong>Мониторинг</strong> — отслеживание подозрительной активности</li>
        </ul>
        <Text mt={3}>
          Несмотря на все меры предосторожности, ни одна система не может гарантировать 100% безопасность.
          Мы рекомендуем использовать надежные пароли и не передавать их третьим лицам.
        </Text>
      </Box>

      {/* 9. Изменения */}
      <Box id="changes">
        <Heading as="h2">9. Изменения в Политике конфиденциальности</Heading>
        <Text>
          <strong>9.1.</strong> Мы оставляем за собой право вносить изменения в настоящую Политику
          конфиденциальности в любое время.
        </Text>
        <Text>
          <strong>9.2.</strong> Обновленная версия Политики будет опубликована на этой странице с
          указанием даты последнего обновления.
        </Text>
        <Text>
          <strong>9.3.</strong> В случае существенных изменений мы уведомим вас по email (если это
          технически возможно).
        </Text>
        <Text>
          <strong>9.4.</strong> Продолжая использовать наш Сайт после публикации изменений, вы
          соглашаетесь с обновленной Политикой конфиденциальности.
        </Text>
      </Box>

      {/* 10. Контакты */}
      <Box id="contacts">
        <Heading as="h2">10. Контактная информация</Heading>
        <Text>
          Если у вас есть вопросы по Политике конфиденциальности или вы хотите реализовать свои права,
          пожалуйста, свяжитесь с нами:
        </Text>
        <Text mt={3}>
          <strong>Наименование:</strong> ONETECH PRO LLC
        </Text>
        <Text>
          <strong>ИНН:</strong> [будет добавлено после регистрации]
        </Text>
        <Text>
          <strong>Юридический адрес:</strong> [будет добавлен после регистрации]
        </Text>
        <Text>
          <strong>Email:</strong> [будет добавлен]
        </Text>
        <Text>
          <strong>Телефон:</strong> [будет добавлен]
        </Text>
        <Text>
          <strong>Веб-сайт:</strong> [будет добавлен]
        </Text>

        <Text mt={6} fontSize="sm" color="gray.600">
          Используя наш Сайт, вы подтверждаете, что ознакомились с настоящей Политикой конфиденциальности
          и согласны с условиями обработки ваших персональных данных.
        </Text>
      </Box>
    </LegalLayout>
  );
};

export default PrivacyPolicy;
